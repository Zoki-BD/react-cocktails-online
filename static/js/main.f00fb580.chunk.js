(this["webpackJsonpmy-cocktails"]=this["webpackJsonpmy-cocktails"]||[]).push([[0],{35:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(19),r=c.n(n),i=(c(23),c(35),c(5)),l=c(2),o=c(8);var j=c(4),d=c(12),b=c.n(d),h=c(15),O=c(30);var u=function(e,t){switch(t.type){case"LOADING":return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case"LOADING_OFF":return Object(j.a)(Object(j.a)({},e),{},{loading:!1});case"DISPLAY_ITEMS":return Object(j.a)(Object(j.a)({},e),{},{cocktails:t.payload,loading:!1});case"NO_ITEMS_TO_DISPLAY":case"FIRST_PAGE_TO_DISPLAY":return{cocktails:[],loading:!1};case"SET_SEARCHTERM":return Object(j.a)(Object(j.a)({},e),{},{searchTerm:t.payload});case"ADD_TO_FAVORITES":return Object(j.a)(Object(j.a)({},e),{},{favorites:[t.payload].concat(Object(O.a)(e.favorites))});case"REMOVE_FROM_FAVORITES":return Object(j.a)(Object(j.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.payload}))});case"CLEAR_FAVORITES_CART":return Object(j.a)(Object(j.a)({},e),{},{favorites:[]});default:return e}},m=c(0),x=s.a.createContext(),p={loading:!1,cocktails:[],favorites:localStorage.getItem("favorites")?JSON.parse(localStorage.getItem("favorites")):[],searchTerm:"a",searchTerm2:"a"},f=function(e){var t=e.children,c=Object(a.useReducer)(u,p),s=Object(o.a)(c,2),n=s[0],r=s[1];""===n.searchTerm&&r({type:"FIRST_PAGE_TO_DISPLAY"}),Object(a.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(n.favorites))}),[n.favorites]);var i=Object(a.useCallback)(Object(h.a)(b.a.mark((function e(){var t,c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"LOADING"}),e.prev=1,e.next=4,fetch("".concat("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=").concat(n.searchTerm));case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,(a=c.drinks)?(s=a.map((function(e){return{id:e.idDrink,name:e.strDrink,image:e.strDrinkThumb,info:e.strAlcoholic,glass:e.strGlass}})),r({type:"DISPLAY_ITEMS",payload:s})):r({type:"NO_ITEMS_TO_DISPLAY"}),r({type:"LOADING_OFF"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),r({type:"LOADING_OFF"});case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),[n.searchTerm]);Object(a.useEffect)((function(){i()}),[n.searchTerm,i]);return Object(m.jsx)(x.Provider,{value:Object(j.a)(Object(j.a)({},n),{},{setSearch:function(e){r({type:"SET_SEARCHTERM",payload:e})},addToFavorites:function(e){r({type:"ADD_TO_FAVORITES",payload:e})},removeFromFavorites:function(e){r({type:"REMOVE_FROM_FAVORITES",payload:e})},disableCocktailIfFavorite:function(e){return!!n.favorites.find((function(t){return t.id===e.id}))},clearFavoritesCart:function(){r({type:"CLEAR_FAVORITES_CART"})}}),children:t})},v=function(){return Object(a.useContext)(x)};var g=function(){var e=v(),t=e.favorites,c=e.removeFromFavorites,a=e.clearFavoritesCart;return t.length<1?Object(m.jsx)("h1",{className:"empty-favorites-message",children:" Favorites cart is empty"}):Object(m.jsxs)("section",{className:"section",children:[Object(m.jsx)(i.b,{to:"/",className:"btn btn-primary-fav",children:"back home"}),Object(m.jsx)("h2",{className:"section-title",children:"Favorites"}),Object(m.jsx)("div",{className:"cocktails-center",children:t.length>0&&Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsxs)("article",{className:"cocktail",children:[Object(m.jsx)("div",{className:"img-container",children:Object(m.jsx)("img",{src:e.image,alt:e.name})}),Object(m.jsxs)("div",{className:"cocktail-footer",children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("h4",{children:e.glass}),Object(m.jsx)("p",{children:e.info})]}),Object(m.jsx)("button",{className:"btn btn-alert",onClick:function(){return c(e.id)},children:"remove cocktail"})]},e.id)}))})}),Object(m.jsx)("button",{className:"btn btn-primary-fav",onClick:function(){return a()},children:"Clear Cart"})]})},N=c(29),k=c.n(N);var y=function(e){var t=e.cocktails,c=v(),s=c.addToFavorites,n=c.disableCocktailIfFavorite,r=Object(a.useState)(!1),l=Object(o.a)(r,2),j=l[0],d=l[1];return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsxs)("article",{className:"cocktail ",children:[Object(m.jsx)("div",{className:"img-container",children:Object(m.jsx)("img",{src:e.image,alt:e.name})}),Object(m.jsxs)("div",{className:"cocktail-footer",children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("h4",{children:e.glass}),Object(m.jsx)("p",{children:e.info}),Object(m.jsx)(i.b,{to:"/cocktail/".concat(e.id),className:"btn btn-primary btn-details",children:"details"}),Object(m.jsx)("button",{className:"btn btn-primary btn-details",onClick:function(){return s(e)},disabled:n(e),children:"Add to Favorites"}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:"btn btn-primary-fav-modal",children:Object(m.jsx)("button",{className:"btn btn-primary btn-details",onClick:function(){return d(!0)},children:" Details in modal"})})}),Object(m.jsxs)(k.a,{className:"Modal",isOpen:j,onRequestClose:function(){return d(!1)},style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(90,98,107,.9)"},content:{position:"null",top:"null",left:"null",right:"null",bottom:"null",border:"2px solid #5B6675",background:"white",padding:"28px 15px",maxWidth:"760px",minWidth:"400px",height:"55vh"},body:{color:"null"}},children:[Object(m.jsx)("button",{className:"btn-modalClose",onClick:function(){return d(!1)},children:"Close"}),Object(m.jsxs)("div",{className:"modal-body",children:[Object(m.jsx)("h2",{className:"section-title-modal",children:e.name}),Object(m.jsxs)("div",{className:"drink",children:[Object(m.jsx)("img",{src:e.image,alt:e.name,className:"img-modal"}),Object(m.jsxs)("div",{className:"drink-info",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"name: "})," ",e.name]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"info: "})," ",e.info]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"glass: "})," ",e.glass]})]})]})]})]})]})]},e.id)}))})};var C=function(){return Object(m.jsx)("div",{className:"loader"})},T=c(22);var F=function(e){var t=e.totalCocktails,c=e.cocktailsPerPage,a=e.paginate,s=e.setCurrentPage,n=[];console.log(a);for(var r=1;r<=Math.ceil(t/c);r++)n.push(r);var i=function(e){return e>n.length-1?0:e<0?n.length-1:e};return n.length<1?"":Object(m.jsx)("nav",{className:"text-center",children:Object(m.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(m.jsx)("div",{className:"button-container",children:Object(m.jsx)("a",{href:"#",className:"strelka",onClick:function(){s((function(e){return i(e-1)}))},children:Object(m.jsx)(T.a,{})})}),Object(m.jsx)("div",{className:" list-group list-group-horizontal",children:n.map((function(e){return Object(m.jsx)("li",{className:"page-item  ",children:Object(m.jsx)("a",{href:"#",onClick:function(){return a(e)},className:"page-link ",children:e})},e)}))}),Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"#",className:"strelka",onClick:function(){s((function(e){return i(e+1)}))},children:Object(m.jsx)(T.b,{})})})]})})};var I=function(){var e=v(),t=e.loading,c=e.cocktails,s=Object(a.useState)(1),n=Object(o.a)(s,2),r=n[0],i=n[1],l=Object(a.useState)(6),j=Object(o.a)(l,2),d=j[0],b=(j[1],r*d),h=b-d,O=c.slice(h,b);return t?Object(m.jsx)(C,{}):c.length<1?Object(m.jsx)("h2",{className:"section-title",children:"no cocktails matched your search"}):Object(m.jsxs)("section",{className:"section",children:[Object(m.jsx)("h2",{className:"section-title",children:"cocktails"}),Object(m.jsx)("div",{className:"cocktails-center",children:Object(m.jsx)(y,{cocktails:O})}),Object(m.jsx)(F,{cocktailsPerPage:d,totalCocktails:c.length,paginate:function(e){i(e)},setCurrentPage:i})]})};var S=function(){var e=v().setSearch,t=Object(a.useRef)("");return Object(a.useEffect)((function(){t.current.focus()}),[]),Object(m.jsx)("section",{className:"section search",children:Object(m.jsx)("form",{className:"search-form",onSubmit:function(e){e.preventDefault()},children:Object(m.jsxs)("div",{className:"form-control",children:[Object(m.jsx)("label",{htmlFor:"name",children:"search cocktails by name"}),Object(m.jsx)("input",{type:"text",id:"name",ref:t,onChange:function(t){return e(t.target.value)}})]})})})};var A=function(){return Object(m.jsxs)("main",{children:[Object(m.jsx)(S,{}),Object(m.jsx)(I,{})]})};var _=function(){return Object(m.jsxs)("section",{className:"section about-section",children:[Object(m.jsx)("h1",{className:"section-title",children:"about us"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae repudiandae architecto qui adipisci in officiis, aperiam sequi atque perferendis eos, autem maiores nisi saepe quisquam hic odio consectetur nobis veritatis quasi explicabo obcaecati doloremque? Placeat ratione hic aspernatur error blanditiis?"})]})},E="https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=";var D=function(){var e=Object(l.f)().id,t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(null),j=Object(o.a)(r,2),d=j[0],O=j[1];if(console.log(e),Object(a.useEffect)((function(){function t(){return(t=Object(h.a)(b.a.mark((function t(){var c,a,s,r,i,l,o,j,d,h,u,m,x,p;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(E).concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:(a=t.sent).drinks?(console.log(a.drinks),s=a.drinks[0],r=s.strDrink,i=s.strDrinkThumb,l=s.strAlcoholic,o=s.strCategory,j=s.strGlass,d=s.strInstructions,h=s.strIngredient1,u=s.strIngredient2,m=s.strIngredient3,x=s.strIngredient4,p=s.strIngredient5,O({name:r,image:i,info:l,category:o,glass:j,instructions:d,ingredients:[h,u,m,x,p]}),n(!1)):(O(null),n(!1)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}n(!0),function(){t.apply(this,arguments)}()}),[e]),s)return Object(m.jsx)(C,{});if(d){var u=d.name,x=d.image,p=d.category,f=d.info,v=d.glass,g=d.instructions,N=d.ingredients;return Object(m.jsxs)("section",{className:"section cocktail-section",children:[Object(m.jsx)(i.b,{to:"/",className:"btn btn-primary",children:"back home"}),Object(m.jsx)("h2",{className:"section-title",children:u}),Object(m.jsxs)("div",{className:"drink",children:[Object(m.jsx)("img",{src:x,alt:u}),Object(m.jsxs)("div",{className:"drink-info",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"name :"}),Object(m.jsx)("span",{className:"sminka",children:u})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"category :"})," ",Object(m.jsx)("span",{className:"sminka",children:p})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"info :"})," ",Object(m.jsx)("span",{className:"sminka",children:f})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"glass :"})," ",Object(m.jsx)("span",{className:"sminka",children:v})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"instructons :"})," ",Object(m.jsx)("span",{className:"sminka",children:g})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{className:"drink-data",children:"ingredients :"}),Object(m.jsxs)("span",{className:"sminka",children:[" ",N.map((function(e,t){return e?Object(m.jsxs)("span",{children:[" ",e]},t):null}))]})]})]})]})]})}return Object(m.jsx)("h2",{className:"section-title",children:"no cocktail to display"})};var R=function(){return Object(m.jsx)("section",{className:"error-page section",children:Object(m.jsxs)("div",{className:"error-container",children:[Object(m.jsx)("h1",{children:"oops! it's a dead end"}),Object(m.jsx)(i.b,{to:"/",className:"btn btn-primary",children:"back home"})]})})};var P=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:"section-title",children:" Category Cart"})})};var L=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:"section-title",children:" Alcoholic/Non Alcoholic Cart"})})},w=c.p+"static/media/logo.f43a2245.svg";var M=function(){return Object(m.jsx)("nav",{className:"navbar navbar-expand-lg  navbar-light bg-warning",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(i.b,{to:"/",className:"navbar-brand text-uppercase",children:Object(m.jsx)("img",{src:w,alt:"LOGO",className:"logo"})}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar","aria-controls":"navbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbar",children:Object(m.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/",className:"nav-link",children:"Name"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/category",className:"nav-link",children:"Category"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/alcohol_filter",className:"nav-link",children:"Alcohol / Non Alcohol"})})]})}),Object(m.jsx)("div",{className:"dropdown",children:Object(m.jsx)(i.b,{to:"/favorites",className:"btn btn-danger",children:"My Favorites"})})]})})};var G=function(){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(M,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(A,{})}),Object(m.jsx)(l.a,{path:"/about",children:Object(m.jsx)(_,{})}),Object(m.jsx)(l.a,{path:"/category",children:Object(m.jsx)(P,{})}),Object(m.jsx)(l.a,{path:"/alcohol_filter",children:Object(m.jsx)(L,{})}),Object(m.jsx)(l.a,{path:"/cocktail/:id",children:Object(m.jsx)(D,{})}),Object(m.jsx)(l.a,{path:"/favorites",children:Object(m.jsx)(g,{})}),Object(m.jsx)(l.a,{path:"*",children:Object(m.jsx)(R,{})})]})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,53)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(f,{children:Object(m.jsx)(G,{})})}),document.getElementById("root")),q()}},[[52,1,2]]]);
//# sourceMappingURL=main.f00fb580.chunk.js.map